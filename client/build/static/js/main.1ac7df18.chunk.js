(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{298:function(e,t,a){},448:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a.n(n),c=(a(298),a(2)),s=a.n(c),o=a(9),i=a(13),l=a(0),u=a.n(l),d=a(41),j=a(108),b=a(238),f={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).google_cloud,authDomain:"newscomparer.firebaseapp.com",projectId:"newscomparer",storageBucket:"newscomparer.appspot.com"};Object(b.a)(f);var O=Object(j.e)();var h=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Object(j.d)(Object(j.a)(O,"Headings"));case 3:return e.sent.forEach((function(e){var a=e.data();"totalDailyFrequencyOfWords"in a&&(t[e.id]=a)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.b)(O,"Websites","StaticWebisteData"),e.next=3,Object(j.c)(t);case 3:if(!(a=e.sent).exists()){e.next=8;break}return e.abrupt("return",a.data());case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=a(4),g=function(e){var t=e.fullScreenImage,a=e.setFullScreenImage;return Object(p.jsx)("div",{className:"fullscreen ".concat(""===t?"hide":""),id:"fullscreen",onClick:function(e){a("");var t=document.getElementById("fullscreen");t&&t.scroll(0,0)},children:Object(p.jsx)("div",{className:"fullscreen--wrrapper",children:Object(p.jsx)("img",{src:t,alt:"test",className:"fullscreen--image ".concat(""===t?"hide":""),id:"fullScreenImage"})})})},v=a(495),x=a(492),w=function(e){var t=e.name,a=e.link;return Object(p.jsx)("a",{className:"heading--logo-image-wrapper",href:a,children:Object(p.jsx)("img",{src:"".concat(t,"_Logo.png"),alt:t,className:"heading--logo-image",title:"Link to ".concat(t)})})},y=function(e){var t=e.setFullScreenImage,a=e.screenshot,n=e.name,r=e.link;return Object(p.jsxs)("div",{className:"screenshots--wrapper",children:[Object(p.jsx)(w,{name:n,link:r}),Object(p.jsx)("div",{className:"screenshots--image-container",children:""!==a?Object(p.jsx)("img",{src:a,className:"screenshots--image",onClick:function(){return t(a)},alt:"screenshot of website"}):Object(p.jsx)(x.a,{variant:"rect",height:640,width:"80%"})})]})},D=function(e){var t=e.setFullScreenImage,a=e.screenshots,n=e.selectedWebsites;return Object(p.jsx)(v.a,{item:!0,sm:!0,container:!0,direction:"row",justify:"flex-start",className:"screenshots",children:a.map((function(e,a){return Object(p.jsx)(l.Fragment,{children:n.show[a]?Object(p.jsx)(y,{link:n.links[a],setFullScreenImage:t,screenshot:e,name:n.names[a]},a):null},a)}))})},S=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=new Date(t),n=[new Date(a)],r=0;r<e;r++)a.setDate(a.getDate()-1),n.push(new Date(a));return n},k=function(e){var t=new Date(e);return t.setDate(t.getDate()-1),new Date(t)},N=function(e){var t=new Date(e);return t.setDate(t.getDate()+1),new Date(t)},C=function(e){return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())},E=function(e){var t=[];return e.forEach((function(e){t.push(C(e))})),t},I=function(e){return"".concat(e.getDate(),"-").concat(e.getMonth()+1)},F=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},M=function(e){for(var t=e.split(""),a=[],n="";0!==t.length;){var r=t.shift();"-"===r?(a.push(Number(n)),n=""):n+=r}a.push(Number(n));var c=new Date;return c.setDate(a[0]),c.setMonth(a[1]-1),c.setFullYear(a[2]),c},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if(e instanceof Date){var a=e.getTime(),n=t.getTime();a>n&&(t=new Date(a),e=new Date(n))}else t=e.max,e=e.min;for(var r=[],c=new Date(e);!W(c,t);)r.push(c),c=N(c);return r.push(c),r},W=function(e,t){var a=e.getDate(),n=e.getMonth(),r=e.getFullYear(),c=t.getDate(),s=t.getMonth(),o=t.getFullYear();return console.log(a,c,n,s,r,o),a===c&&n===s&&r===o},J=a(496),_=function(e){var t=e.state,a=e.setState,n=e.className,r=e.max,c=Object(l.useState)(1),s=Object(i.a)(c,2),o=s[0],u=s[1];return Object(p.jsx)(p.Fragment,{children:t<r?Object(p.jsx)(J.a,{className:"".concat(n," show-more-button"),variant:"contained",color:"primary",onClick:function(){var e=t+3*o;a(e<=r?e:r),u(o+1)},children:"Show More"}):null})},A=function(e){for(var t=0;t<e.length/2;t++){var a=[e[e.length-1-t],e[t]];e[t]=a[0],e[e.length-1-t]=a[1]}return e},B=function(e){var t=e.setFullScreenImage,a=e.screenshotsByDate,n=e.chosenDates,r=e.selectedWebsites,c=function(e,t){var n="";try{n=a[e][t]}finally{return n}},s=Object(l.useState)([]),o=Object(i.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(2),f=Object(i.a)(b,2),O=f[0],h=f[1];return Object(l.useEffect)((function(){j(A(E(T(n))))}),[n]),Object(p.jsxs)(v.a,{container:!0,direction:"column",justifyContent:"center",alignContent:"center",alignItems:"center",children:[Object(p.jsx)("p",{className:"headings--tip",children:"Click on the image to make it full screen, click again to close it"}),d.map((function(e,a){return Object(p.jsx)(u.a.Fragment,{children:a<=O?Object(p.jsxs)(v.a,{item:!0,container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(p.jsx)("p",{className:"headings--date",children:e}),Object(p.jsx)(D,{setFullScreenImage:t,screenshots:[c(e,r.names[0]),c(e,r.names[1]),c(e,r.names[2])],selectedWebsites:r},a)]},a):null},a)})),Object(p.jsx)(_,{state:O,setState:h,className:"",max:d.length})]})},H=a(500),L=a(501),K=a(451),R=a(498),V=a(499),z=a(502),P=a(527),Y=a(504),q=a(242),U=a.n(q),X=a(503),Z=a(36),G=a(522),Q=a(497),$=a(74),ee=function(){var e=Object(d.f)(),t=Object(l.useState)(0),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(l.useEffect)((function(){r(s(e.pathname))}),[e]);var c={"/words":0,"/headings":1,"/screenshots":2},s=function(e){return c[e]};function o(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(p.jsxs)(G.a,{variant:"scrollable",value:n<=3&&n,"aria-label":"simple tabs example",className:"appbarr--left-container",children:[Object(p.jsx)(Q.a,Object(Z.a)(Object(Z.a)({label:"Words"},o(0)),{},{component:$.b,activeClassName:"selected",to:"/words"})),Object(p.jsx)(Q.a,Object(Z.a)(Object(Z.a)({label:"Headings"},o(1)),{},{component:$.b,activeClassName:"selected",to:"/headings"})),Object(p.jsx)(Q.a,Object(Z.a)(Object(Z.a)({label:"Screenshots"},o(2)),{},{to:"/screenshots",component:$.b,activeClassName:"selected"}))]})};function te(){var e=Object(R.a)();return Object(p.jsx)(V.a,{appear:!1,direction:"down",in:!e,children:Object(p.jsx)(H.a,{children:Object(p.jsxs)(L.a,{className:"appbar--toolbar",children:[Object(p.jsx)(K.a,{variant:"h6",component:$.b,to:"/",className:"appbar--logo",children:"  News-Comparer"}),Object(p.jsx)(ee,{})]})})})}function ae(){var e=Object(z.a)((function(e){return Object(P.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:800}})}))(),t=Object(R.a)({disableHysteresis:!0,threshold:100});return Object(p.jsx)(X.a,{in:t,children:Object(p.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).getElementById("back-to-top-anchor");console.log(t),t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:e.root,children:Object(p.jsx)(Y.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(p.jsx)(U.a,{})})})})}function ne(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(te,{}),Object(p.jsx)(L.a,{id:"back-to-top-anchor"}),Object(p.jsx)(ae,{})]})}var re=a(54),ce=a(509),se=a(505),oe=a(523),ie=a(530),le=Object(z.a)((function(e){return Object(P.a)({button:{display:"block",marginTop:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:160},formInpput:{minHeight:70}})}));function ue(e){var t=e.websiteSelectData,a=e.updateFunction,n=le(),r=Object(l.useState)(0),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(l.useState)(!1),j=Object(i.a)(u,2),b=j[0],f=j[1],O=Object(l.useState)(!0),h=Object(i.a)(O,2),m=h[0],g=h[1],x=Object(d.f)();return Object(p.jsxs)(v.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(p.jsx)(se.a,{className:n.formControl,children:Object(p.jsx)(oe.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:b,onClose:function(){return f(!1)},onOpen:function(){return f(!0)},value:s,onChange:function(e){o(e.target.value);var n=t[e.target.value].name;a(n)},className:n.formInpput,children:t.map((function(e,t){return Object(p.jsx)(ce.a,{value:t,children:Object(p.jsx)("img",{src:"".concat(e.name,"_Logo.png"),alt:e.name,className:"website-selector--image"})},t)}))})}),"/words"!==x.pathname?Object(p.jsx)(ie.a,{checked:m,onChange:function(e){g(e.target.checked),a(e.target.checked)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}):null]})}var de=function(e){var t=e.webisteJointData,a=e.setSelectedWebsites,n=e.selectedWebsites,r=Object(l.useState)([[],[],[]]),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(l.useCallback)((function(e){return function(r){"string"===typeof r?function(e,r){console.log(n);var c=Object(re.a)(n.names),s=Object(re.a)(n.links);c[e]=r,console.log(r,"NAZWA"),s[e]=t[r].url;var o=Object(Z.a)(Object(Z.a)({},n),{},{links:s,names:c});console.log(o),a(o)}(e,r):function(e,t){var r=Object(re.a)(n.show);r[e]=t,console.log(r,"kopia");var c=Object(Z.a)(Object(Z.a)({},n),{},{show:r});a(c)}(e,r),console.log("updated",n,r,e)}}),[t,n,a]);Object(l.useEffect)((function(){if(console.log(t,"sprawdz"),Object.keys(t).length>0){console.log(t,"przeszlo");var e=function(e){var t=[[],[],[]];for(var a in e){var n=e[a];console.log(n,e,a,"robienie"),"left"===n.politicalOrientation?t[0].push(n):"center"===n.politicalOrientation?t[1].push(n):t[2].push(n)}return t}(t);console.log(e,"rowy"),o(e)}}),[t]),Object(l.useEffect)((function(){if(""===n.names[0]&&s[0].length>0&&Object.keys(t).length>0){var e={names:[],links:[],show:[!0,!0,!0]};Object.keys(s).forEach((function(t,a){var n=s[a][0];console.log(n,"klucze"),e.names.push(n.name),e.links.push(n.url)})),a(e)}}),[s,a,t]);var j=Object(d.f)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v.a,{container:!0,direction:"row",alignItems:"center",className:"website-selector--wrapper",justifyContent:"center",children:0!==s[0].length?s.map((function(e,t){return Object(p.jsx)(ue,{websiteSelectData:e,updateFunction:u(t)})})):null}),"/words"!==j.pathname&&0!==s[0].length?Object(p.jsx)("p",{className:"date-group--date-selector-text",children:"Toggle visibility of webiste data"}):null]})},je=a(531);function be(e){var t=e.fringeDates,a=e.updateChosenDates,n=e.chosenDates,r=u.a.useState([0,10]),c=Object(i.a)(r,2),s=c[0],o=c[1],d=u.a.useState(null),j=Object(i.a)(d,2),b=j[0],f=j[1];Object(l.useEffect)((function(){f(function(){var e=S(7);(null===t||void 0===t?void 0:t.max.getDay())===(new Date).getDay()?e.pop():e.shift();for(var a=[],n=0;n<7;n++)a.push({label:I(e[n]),value:10*n});return{dates:e,marks:a}}())}),[t]),Object(l.useEffect)((function(){if(b){var e=b.dates,t=e.map((function(e){return W(e,n.max)})),a=e.map((function(e){return W(e,n.min)})),r=t.indexOf(!0),c=a.indexOf(!0);o([-1===r?70:10*r,-1===c?70:10*c])}}),[n,b]);return Object(p.jsxs)("div",{className:"slider--wrapper",children:[b?Object(p.jsx)(je.a,{value:s,onChange:function(e,t){o(t)},onChangeCommitted:function(e,t){o(t),b&&a({min:b.dates[s[1]/10],max:b.dates[s[0]/10]})},marks:b.marks,max:60,step:10}):null,Object(p.jsxs)("div",{className:"slider--button-wrapper",children:[Object(p.jsx)(J.a,{variant:"contained",color:"primary",onClick:function(){t&&a(t)},className:"slider--button",children:"Select all dates"}),Object(p.jsx)(J.a,{variant:"contained",color:"primary",onClick:function(){t&&a({max:t.max,min:t.max})},className:"slider--button",children:"Select newest date"})]})]})}var fe=a(243),Oe=a(49),he=a(520);function me(e){var t=e.chosenDates,a=e.fringeDates,n=e.updateChosenDates,r=Object(l.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(l.useState)(t),d=Object(i.a)(u,2),j=d[0],b=d[1],f=function(e){return function(t){if(null!==t){var a,r=t.toDate();a=1===e?{min:r,max:j.max}:{min:j.min,max:r},b(a),console.log(!W(a.min,a.max)),a.min.getTime()>a.max.getTime()&&!W(a.min,a.max)?o("The date on right should be before the one on the left"):(n(a),o(""))}else o("")}};return Object(l.useEffect)((function(){b(t),t.min.getTime()>t.max.getTime()?o("First date should be before the one second"):o("")}),[t]),Object(p.jsxs)(Oe.a,{utils:fe.a,children:[Object(p.jsxs)("div",{className:"date-selector--picker-wrapper",children:[Object(p.jsxs)("div",{className:"date-selector--single-picker-wrapper",children:[Object(p.jsx)(he.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"Start date",value:j.min,onChange:f(1),KeyboardButtonProps:{"aria-label":"change date"},maxDate:a.max,minDate:a.min,className:""!==s?"date-group--date-selector--error":""}),Object(p.jsx)("p",{className:"date-group--date-selector-text",children:"Choose start date"})]}),Object(p.jsxs)("div",{className:"date-selector--single-picker-wrapper",children:[Object(p.jsx)(he.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"End date",value:j.max,onChange:f(0),KeyboardButtonProps:{"aria-label":"change date"},maxDate:a.max,minDate:a.min,className:""!==s?"date-group--date-selector--error":""}),Object(p.jsx)("p",{className:"date-group--date-selector-text",children:"Choose end date"})]})]}),Object(p.jsxs)(K.a,{gutterBottom:!0,className:"date-group--date-selector-text--error",children:[" ",s," "]})]})}var pe=function(e){var t=e.fringeDates,a=e.updateChosenDates,n=e.chosenDates;return Object(p.jsx)("div",{className:"date-selector",children:t&&n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(me,{fringeDates:t,updateChosenDates:a,chosenDates:n}),Object(p.jsx)(be,{fringeDates:t,updateChosenDates:a,chosenDates:n})]}):null})},ge=a(11),ve=a(166),xe=Object(ve.b)(),we=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ve.c)(xe,t),n=Object(ve.a)(a).then((function(e){return e})).catch((function(e){return console.error("failed fetching",e),"none"})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(o.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we("".concat(t,"-").concat(a,".jpg"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(s.a.mark((function e(t,a,n){var r,c,o,i,l,u,d,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},c=E(a),o=Object(ge.a)(c),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=31;break}l=i.value,r[l]={},u=Object(ge.a)(t),e.prev=9,u.s();case 11:if((d=u.n()).done){e.next=21;break}if(j=d.value,!n[l]||!n[l][j]){e.next=16;break}e.next=19;break;case 16:return e.next=18,ye(j,l);case 18:r[l][j]=e.sent;case 19:e.next=11;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:e.next=5;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(3),o.e(e.t1);case 36:return e.prev=36,o.f(),e.finish(36);case 39:return e.abrupt("return",r);case 40:case"end":return e.stop()}}),e,null,[[3,33,36,39],[9,23,26,29]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Se=a(245),ke=a.n(Se),Ne=function(e){var t={};return e.forEach((function(e){for(var a=0,n=Object.entries(e);a<n.length;a++){var r=Object(i.a)(n[a],2),c=r[0],s=r[1];t[c]?t[c]+=s:t[c]=s}})),t},Ce=function(e){return Object.entries(e).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))},Ee=function(){var e=Object(o.a)(s.a.mark((function e(t,a,n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,a,n);case 2:return r=e.sent,c=ke()(n,r),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ie=function(e){var t={};for(var a in e)t[a]=[];var n=e.Total;for(var r in n)for(var c in e)if(isNaN(Number(r))){var s=e[c][r];void 0===s&&(s=0),t[c].push({word:r,count:s})}return t},Fe=a(266),Me=a(526),Te=a(524),We=a(511),Je=a(512),_e=a(48),Ae=a(267),Be=a(532);function He(e){var t=e.data,a=e.index,n=e.style;return u.a.cloneElement(t[a],{style:Object(Z.a)(Object(Z.a)({},n),{},{top:n.top+8})})}var Le=u.a.createContext({}),Ke=u.a.forwardRef((function(e,t){var a=u.a.useContext(Le);return Object(p.jsx)("div",Object(Z.a)(Object(Z.a)({ref:t},e),a))}));var Re=u.a.forwardRef((function(e,t){var a=e.children,n=Object(Fe.a)(e,["children"]),r=u.a.Children.toArray(a),c=Object(_e.a)(),s=Object(We.a)(c.breakpoints.up("sm"),{noSsr:!0}),o=r.length,i=s?36:40,l=function(e){return u.a.isValidElement(e)&&e.type===Je.a?40:i},d=function(e){var t=u.a.useRef(null);return u.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(o);return Object(p.jsx)("div",{ref:t,children:Object(p.jsx)(Le.Provider,{value:n,children:Object(p.jsx)(Ae.a,{itemData:r,height:(o>8?8*i:r.map(l).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:d,outerElementType:Ke,innerElementType:"ul",itemSize:function(e){return l(r[e])},overscanCount:5,itemCount:o,className:"remove-scroll",children:He})})})}));function Ve(e){var t=e.suggestions,a=e.stateChange,n=e.label;return Object(p.jsx)(Te.a,{debug:!0,id:"virtualize-demo",style:{width:300},disableListWrap:!0,multiple:!0,freeSolo:!0,ListboxComponent:Re,options:t.Total.map((function(e){return e.word})),renderInput:function(e){return Object(p.jsx)(Me.a,Object(Z.a)(Object(Z.a)({},e),{},{label:n,variant:"outlined"}))},renderOption:function(e){return Object(p.jsx)(K.a,{noWrap:!0,children:e})},onChange:function(e,t){var n,r=[],c=Object(ge.a)(t);try{for(c.s();!(n=c.n()).done;){var s=n.value;"string"===typeof s?r.push(s.toLowerCase()):r.push(s.word.toLowerCase())}}catch(o){c.e(o)}finally{c.f()}a(r)},renderTags:function(e,t){return e.map((function(e,a){return Object(p.jsx)(Be.a,Object(Z.a)({variant:"outlined",label:e},t({index:a})))}))}})}var ze=a(513),Pe=a(514),Ye=a(518),qe=a(263),Ue=a(262),Xe=a(138),Ze=a(135),Ge=a(265),Qe=function(e){return Object.keys(e).filter((function(e){return"word"!==e}))},$e=function(e){var t=e.data,a=e.webisteJointDataMap,n=e.wordOrder,r=e.wordCount,c=Object(l.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1];return Object(l.useEffect)((function(){for(var e=[],a=Qe(t),c=0;c<r;c++){var s,o=n[c],i={word:o},l=Object(ge.a)(a);try{for(l.s();!(s=l.n()).done;){var d=s.value,j=void 0!==t[d][o]?t[d][o]:0;i[d]=j}}catch(b){l.e(b)}finally{l.f()}e.push(i)}u(e)}),[t,r,n]),Object(p.jsx)(p.Fragment,{children:o.length>0?Object(p.jsx)(ze.a,{height:(Object.keys(o[0]).length-1)*o.length*40,width:"100%",className:"words--desktop-graph",children:Object(p.jsxs)(Pe.a,{data:o,margin:{top:5,right:0,left:0,bottom:5},layout:"vertical",children:[Object(p.jsx)(Ye.a,{strokeDasharray:"3 3"}),Object(p.jsx)(qe.a,{dataKey:"word",type:"category",width:150}),Object(p.jsx)(Ue.a,{type:"number",allowDecimals:!1}),Object(p.jsx)(Xe.a,{}),Object(p.jsx)(Ze.a,{}),o.length>0?Qe(t).map((function(e,t){return Object(p.jsx)(Ge.a,{layout:"vertical",dataKey:e,fill:"#".concat(a[e.replace(" ","_")]?a[e.replace(" ","_")].color:"38AE1A")},t)})):null]})}):null})},et=function(e){var t=e.data,a=e.webisteJointDataMap,n=e.passedData;return Object(p.jsx)(p.Fragment,{children:n.length>0?Object(p.jsx)(ze.a,{height:250,width:"100%",className:"words--mobile-graph",children:Object(p.jsxs)(Pe.a,{data:n,margin:{top:5,right:10,left:10,bottom:5},children:[Object(p.jsx)(Ye.a,{strokeDasharray:"3 3"}),Object(p.jsx)(Ue.a,{dataKey:"word"}),Object(p.jsx)(qe.a,{allowDecimals:!1}),Object(p.jsx)(Xe.a,{}),Object(p.jsx)(Ze.a,{}),n.length>0?Qe(t).map((function(e,t){return Object(p.jsx)(Ge.a,{dataKey:e,fill:"#".concat(a[e.replace(" ","_")]?a[e.replace(" ","_")].color:"38AE1A")},t)})):null]})}):null})},tt=function(e){var t=e.data,a=e.webisteJointDataMap,n=e.wordOrder,r=e.wordCount,c=Object(l.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1];return Object(l.useEffect)((function(){for(var e=[],a=Qe(t),c=0;c<r;c++){var s,o=n[c],i={word:o},l=Object(ge.a)(a);try{for(l.s();!(s=l.n()).done;){var d=s.value,j=void 0!==t[d][o]?t[d][o]:0;i[d]=j}}catch(b){l.e(b)}finally{l.f()}e.push(i)}u(e)}),[t,r,n]),Object(p.jsx)(p.Fragment,{children:o.map((function(e,t){return Object(p.jsx)(et,{data:e,webisteJointDataMap:a,passedData:[e]},t)}))})},at=function(e){var t=e.wordDataOfAll,a=e.wordDataOfSelected,n=e.webisteJointDataMap,r=e.suggestions,c=Object(l.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1],d=Object(l.useState)({}),j=Object(i.a)(d,2),b=j[0],f=j[1],O=Object(l.useState)({}),h=Object(i.a)(O,2),m=h[0],g=h[1];return Object(l.useEffect)((function(){for(var e=Object.keys(t),n=Object.keys(a),r={},c={},s=0,i=e;s<i.length;s++){r[i[s]]={}}for(var l=0,u=n;l<u.length;l++){c[u[l]]={}}var d,j=Object(ge.a)(o);try{for(j.s();!(d=j.n()).done;){var b,O=d.value,h=Object(ge.a)(e);try{for(h.s();!(b=h.n()).done;){var m=b.value;r[m][O]=t[m][O]}}catch(w){h.e(w)}finally{h.f()}var p,v=Object(ge.a)(n);try{for(v.s();!(p=v.n()).done;){var x=p.value;c[x][O]=a[x][O]}}catch(w){v.e(w)}finally{v.f()}}}catch(w){j.e(w)}finally{j.f()}g(c),f(r)}),[o,a,t]),Object(p.jsx)("div",{className:"words--compare-container",children:r.Total?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"words--compare-input-wrapper",children:[Object(p.jsx)("p",{className:"words--compare-text",children:"View graphs for selected words"}),Object(p.jsx)(Ve,{suggestions:r,stateChange:u,label:"View data for selected words"})]}),Object(p.jsx)($e,{data:m,webisteJointDataMap:n,wordOrder:o,wordCount:o.length}),Object(p.jsx)($e,{data:b,webisteJointDataMap:n,wordOrder:o,wordCount:o.length}),Object(p.jsx)(tt,{data:m,webisteJointDataMap:n,wordOrder:o,wordCount:o.length}),Object(p.jsx)(tt,{data:b,webisteJointDataMap:n,wordOrder:o,wordCount:o.length})]}):null})};function nt(e){return"".concat(e,"\xb0C")}function rt(e){e.value;var t=e.setValue;return Object(p.jsxs)("div",{className:"words--slider",children:[Object(p.jsx)("p",{className:"words--slider-text",children:"Select amount of words to show"}),Object(p.jsx)(je.a,{defaultValue:1,getAriaValueText:nt,"aria-labelledby":"discrete-slider","aria-label":"amount of word to show on a graph",valueLabelDisplay:"on",step:1,onChange:function(e,a){"number"===typeof a?t(a):console.error("it shouldnt print")},marks:!0,min:1,max:20})]})}var ct=function(e){var t=e.wordDataOfAll,a=e.wordDataOfSelected,n=e.webisteJointDataMap,r=e.sortedSelectedWordsByCount,c=e.sortedAllWordsByCount,s=Object(l.useState)(1),o=Object(i.a)(s,2),u=o[0],d=o[1];return Object(p.jsxs)("div",{className:"words--popularity-container",children:[Object(p.jsx)(rt,{value:u,setValue:d}),Object.keys(t).length>0&&r.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)($e,{data:a,webisteJointDataMap:n,wordOrder:r,wordCount:u}),Object(p.jsx)($e,{data:t,webisteJointDataMap:n,wordOrder:c,wordCount:u}),Object(p.jsx)(tt,{data:a,webisteJointDataMap:n,wordOrder:r,wordCount:u}),Object(p.jsx)(tt,{data:t,webisteJointDataMap:n,wordOrder:c,wordCount:u})]}):null]})},st=function(e){var t=e.webisteJointData,a=e.wordDataOfAll,n=e.wordDataOfSelected,r=e.suggestions,c=Object(l.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1],d=Object(l.useState)([]),j=Object(i.a)(d,2),b=j[0],f=j[1];return Object(l.useEffect)((function(){u(Ce(n.Total)),f(Ce(a.Total))}),[a,n]),Object(p.jsxs)(v.a,{className:"words--container",children:[Object(p.jsx)(ct,{wordDataOfAll:a,wordDataOfSelected:n,webisteJointDataMap:t,sortedSelectedWordsByCount:o,sortedAllWordsByCount:b}),Object(p.jsx)(at,{suggestions:r,wordDataOfAll:a,wordDataOfSelected:n,webisteJointDataMap:t})]})},ot=function(e,t){if(!t.length||0===t.length)return!0;var a,n=e.split(" ").map((function(e){return e.toLowerCase()})),r=Object(ge.a)(n);try{for(r.s();!(a=r.n()).done;){var c,s=a.value,o=Object(ge.a)(t);try{for(o.s();!(c=o.n()).done;){if(s===c.value)return!0}}catch(i){o.e(i)}finally{o.f()}}}catch(i){r.e(i)}finally{r.f()}return!1},it=a(452),lt=a(519),ut=function(e){var t=e.src,a=e.href,n=e.text;return Object(p.jsx)(it.a,{className:"headings--list-item",button:!0,children:Object(p.jsxs)(lt.a,{href:a,className:"headings--link",children:[void 0===t||""===t?Object(p.jsx)(x.a,{variant:"rect",height:200}):"none"===t?null:Object(p.jsx)("img",{id:a,className:"headings--image",src:t,alt:"original article illustration",onError:function(e){var t;console.log("fired"),null===(t=document.getElementById(a))||void 0===t||t.classList.add("hide")}}),Object(p.jsx)("p",{className:"headings--text",children:n})]})})},dt=function(e){var t=e.headings,a=e.downloadedHeadingImages,n=e.selectedWords,r=e.name,c=e.link;return Object(p.jsxs)("ul",{className:"headings--list",children:[Object(p.jsx)(w,{name:r,link:c}),t.map((function(e,r){return Object(p.jsx)(u.a.Fragment,{children:ot(t[r].text,n)?Object(p.jsx)(ut,{src:a[t[r].image],href:t[r].link,text:t[r].text},r):null},r)}))]})},jt=function(e){var t=e.headingsRow,a=e.selectedWebsites,n=e.downloadedHeadingImages,r=e.selectedWords;return Object(p.jsxs)("div",{className:"headings-row-container",children:[Object(p.jsx)("p",{className:"headings--date",children:t.date}),Object(p.jsx)("div",{className:"headings--inner-container",children:a.names.map((function(e,c){var s=t[e];return"string"!==typeof s&&"undefined"!==typeof s&&a.show[c]?Object(p.jsx)(dt,{selectedWords:r,name:e,headings:s,downloadedHeadingImages:n,link:a.links[c]},c):null}))})]})},bt=function(e){var t=e.chosenDates,a=e.headingMap,n=e.downloadedHeadingImages,r=e.setDowloadedHeadingImages,c=e.suggestions,d=e.selectedWebsites,j=Object(l.useState)([]),b=Object(i.a)(j,2),f=b[0],O=b[1],h=Object(l.useState)([]),m=Object(i.a)(h,2),g=m[0],v=m[1],x=Object(l.useState)(2),w=Object(i.a)(x,2),y=w[0],D=w[1];return Object(l.useEffect)((function(){var e=A(function(e,t,a){var n=[],r=E(T(t));return console.log(r,e),r.forEach((function(t){var r={date:t};if(a[t]){var c=a[t].totalDailySiteData;for(var s in e){var o=e[s],i=c[o];r[o]=i.headings}n.push(Object(Z.a)({},r))}})),n}(d.names,t,a));O(e)}),[d.names,t,a]),Object(l.useEffect)((function(){var e=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="none",""===t){e.next=5;break}return e.next=4,we(t);case 4:a=e.sent;case 5:return(n={})[t]=a,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(){var t,a=[],c=Object(ge.a)(f);try{for(c.s();!(t=c.n()).done;){var s,o=t.value,i=Object(ge.a)(d.names);try{for(i.s();!(s=i.n()).done;){var l=o[s.value];if("string"!==typeof l){var u,j=Object(ge.a)(l);try{for(j.s();!(u=j.n()).done;){var b=u.value.image;if(void 0===n[b]){var O=e(b);a.push(O)}}}catch(h){j.e(h)}finally{j.f()}}}}catch(h){i.e(h)}finally{i.f()}}}catch(h){c.e(h)}finally{c.f()}Promise.all(a).then((function(e){var t=Object.assign.apply(Object,[{}].concat(Object(re.a)(e)));r(Object(Z.a)(Object(Z.a)({},n),t))}))}()}),[r,f]),Object(p.jsxs)("div",{className:"headings",children:[Object(p.jsx)("p",{className:"headings--tip",children:"Scroll collumns to see more headings"}),f.map((function(e,t){return Object(p.jsx)(u.a.Fragment,{children:t<=y?Object(p.jsx)(jt,{headingsRow:e,selectedWebsites:d,downloadedHeadingImages:n,selectedWords:g},t):null},t)})),Object(p.jsx)(Ve,{suggestions:c,stateChange:v,label:"Filter headings by words"}),Object(p.jsx)(_,{state:y,setState:D,className:"",max:f.length})]})};var ft=function(){var e=Object(l.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)({show:[!1,!1,!1],names:["","",""],links:["","",""]}),c=Object(i.a)(r,2),u=c[0],j=c[1],b=Object(l.useState)({}),f=Object(i.a)(b,2),O=f[0],v=f[1],x=Object(l.useState)({}),w=Object(i.a)(x,2),y=w[0],D=w[1],S=Object(l.useState)({}),N=Object(i.a)(S,2),I=N[0],W=N[1],J=Object(l.useState)(null),_=Object(i.a)(J,2),A=_[0],H=_[1],L=Object(l.useState)(null),K=Object(i.a)(L,2),R=K[0],V=K[1],z=Object(l.useState)({}),P=Object(i.a)(z,2),Y=P[0],q=P[1],U=Object(l.useState)({}),X=Object(i.a)(U,2),Z=X[0],G=X[1],Q=Object(l.useState)({}),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ae=Object(l.useState)({}),re=Object(i.a)(ae,2),ce=re[0],se=re[1],oe=Object(l.useState)({}),ie=Object(i.a)(oe,2),le=ie[0],ue=ie[1],je=function(e){var t=document.getElementById("fullScreenImage");null===t||void 0===t||t.classList.toggle("fullScreen--image-off"),n(e)};return Object(l.useEffect)((function(){var e=function(e){console.log(e,"headins");var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F(),a=C(t),n=Object.keys(e);-1!==n.indexOf(a)||(t=k(t));var r=new Date(0xecd59fb4585);for(var c in n){var s=M(n[c]);s.getTime()<r.getTime()&&(r=s)}return console.log("XDDDD",r),{max:t,min:r}}(e);H(t),V({max:t.max,min:t.min})},t=function(){var t=Object(o.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.next=5,m();case 5:n=t.sent,null!==a&&null!==n?(D(n),e(a),W(a),console.log(1111,"update",a)):console.error("Failed to fetch data from database");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log("XD"),t()}),[]),Object(l.useEffect)((function(){(function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R||""===u.names[0]){e.next=6;break}return t=T(R),e.next=4,Ee(u.names,t,O);case 4:a=e.sent,v(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u.names,R]),Object(l.useEffect)((function(){if(null!==R&&Object.keys(I).length>0){var e=function(e,t,a,n){var r,c={},s={},o=Object.keys(e),i={},l=E(T(a)),u=Object(ge.a)(n);try{for(u.s();!(r=u.n()).done;)s[r.value.replace("_"," ")]={}}catch(S){u.e(S)}finally{u.f()}for(var d=0,j=o;d<j.length;d++){var b=j[d];c[b.replace("_"," ")]={},i[b]=[]}var f,O=Object(ge.a)(l);try{for(O.s();!(f=O.n()).done;){var h=f.value;try{var m=t[h].totalDailySiteData;for(var p in m)i[p].push(m[p].pageDailyFrequencyOfWords)}catch(k){}}}catch(S){O.e(S)}finally{O.f()}for(var g=[],v=[],x=0,w=o;x<w.length;x++){var y=w[x],D=Ne(i[y]);console.log(y.replace("_"," "),"ZMIENIONE"),c[y.replace("_"," ")]=D,g.push(D),void 0!==s[y.replace("_"," ")]&&(s[y.replace("_"," ")]=D,v.push(D))}return c.Total=Ne(g),s.Total=Ne(v),console.log(s,c,"FIN STATE"),{selectedMap:s,totalMap:c}}(y,I,R,u.names),t=e.selectedMap,a=e.totalMap;te(t),G(a),se(Ie(t)),ue(Ie(a))}}),[y,I,R,u.names]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{setFullScreenImage:je,fullScreenImage:a}),Object(p.jsx)(ne,{}),Object(p.jsx)(de,{webisteJointData:y,setSelectedWebsites:j,selectedWebsites:u}),Object(p.jsx)(pe,{fringeDates:A,updateChosenDates:V,chosenDates:R}),null!==R&&Object.keys(I).length>0&&Object.keys(Z).length>0?Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{path:"/words",children:Object(p.jsx)(st,{suggestions:le,wordDataOfAll:Z,wordDataOfSelected:ee,webisteJointData:y})}),Object(p.jsx)(d.a,{path:"/screenshots",children:Object(p.jsx)(B,{selectedWebsites:u,setFullScreenImage:je,screenshotsByDate:O,chosenDates:R})}),Object(p.jsx)(d.a,{children:Object(p.jsx)(bt,{suggestions:ce,selectedWebsites:u,chosenDates:R,headingMap:I,downloadedHeadingImages:Y,setDowloadedHeadingImages:q})})]}):null]})};a(445).config(),r.a.render(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)($.a,{children:Object(p.jsx)(ft,{})})}),document.getElementById("root"))}},[[448,1,2]]]);
//# sourceMappingURL=main.1ac7df18.chunk.js.map